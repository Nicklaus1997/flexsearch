(function(self){'use strict';var A;function B(a,c,b){const d=typeof b,e=typeof a;if("undefined"!==d){if("undefined"!==e){if(b){if("function"===e&&d===e)return function(k){return a(b(k))};c=a.constructor;if(c===b.constructor){if(c===Array)return b.concat(a);if(c===Map){var g=new Map(b);for(var f of a)g.set(f[0],f[1]);return g}if(c===Set){f=new Set(b);for(g of a.values())f.add(g);return f}}}return a}return b}return"undefined"===e?c:a}function C(){return Object.create(null)}function aa(a,c){return c.length-a.length}
function G(a){return"string"===typeof a}function H(a){return"object"===typeof a}function J(a,c){if(G(c))a=a[c];else for(let b=0;a&&b<c.length;b++)a=a[c[b]];return a}function ba(a){let c=0;for(let b=0,d;b<a.length;b++)(d=a[b])&&c<d.length&&(c=d.length);return c};var ca=[["\u00aa","a"],["\u00b2","2"],["\u00b3","3"],["\u00b9","1"],["\u00ba","o"],["\u00bc","1\u20444"],["\u00bd","1\u20442"],["\u00be","3\u20444"],["\u00e0","a"],["\u00e1","a"],["\u00e2","a"],["\u00e3","a"],["\u00e4","a"],["\u00e5","a"],["\u00e7","c"],["\u00e8","e"],["\u00e9","e"],["\u00ea","e"],["\u00eb","e"],["\u00ec","i"],["\u00ed","i"],["\u00ee","i"],["\u00ef","i"],["\u00f1","n"],["\u00f2","o"],["\u00f3","o"],["\u00f4","o"],["\u00f5","o"],["\u00f6","o"],["\u00f9","u"],["\u00fa","u"],["\u00fb",
"u"],["\u00fc","u"],["\u00fd","y"],["\u00ff","y"],["\u0101","a"],["\u0103","a"],["\u0105","a"],["\u0107","c"],["\u0109","c"],["\u010b","c"],["\u010d","c"],["\u010f","d"],["\u0113","e"],["\u0115","e"],["\u0117","e"],["\u0119","e"],["\u011b","e"],["\u011d","g"],["\u011f","g"],["\u0121","g"],["\u0123","g"],["\u0125","h"],["\u0129","i"],["\u012b","i"],["\u012d","i"],["\u012f","i"],["\u0133","ij"],["\u0135","j"],["\u0137","k"],["\u013a","l"],["\u013c","l"],["\u013e","l"],["\u0140","l"],["\u0144","n"],
["\u0146","n"],["\u0148","n"],["\u0149","n"],["\u014d","o"],["\u014f","o"],["\u0151","o"],["\u0155","r"],["\u0157","r"],["\u0159","r"],["\u015b","s"],["\u015d","s"],["\u015f","s"],["\u0161","s"],["\u0163","t"],["\u0165","t"],["\u0169","u"],["\u016b","u"],["\u016d","u"],["\u016f","u"],["\u0171","u"],["\u0173","u"],["\u0175","w"],["\u0177","y"],["\u017a","z"],["\u017c","z"],["\u017e","z"],["\u017f","s"],["\u01a1","o"],["\u01b0","u"],["\u01c6","dz"],["\u01c9","lj"],["\u01cc","nj"],["\u01ce","a"],["\u01d0",
"i"],["\u01d2","o"],["\u01d4","u"],["\u01d6","u"],["\u01d8","u"],["\u01da","u"],["\u01dc","u"],["\u01df","a"],["\u01e1","a"],["\u01e3","ae"],["\u00e6","ae"],["\u01fd","ae"],["\u01e7","g"],["\u01e9","k"],["\u01eb","o"],["\u01ed","o"],["\u01ef","\u0292"],["\u01f0","j"],["\u01f3","dz"],["\u01f5","g"],["\u01f9","n"],["\u01fb","a"],["\u01ff","\u00f8"],["\u0201","a"],["\u0203","a"],["\u0205","e"],["\u0207","e"],["\u0209","i"],["\u020b","i"],["\u020d","o"],["\u020f","o"],["\u0211","r"],["\u0213","r"],["\u0215",
"u"],["\u0217","u"],["\u0219","s"],["\u021b","t"],["\u021f","h"],["\u0227","a"],["\u0229","e"],["\u022b","o"],["\u022d","o"],["\u022f","o"],["\u0231","o"],["\u0233","y"],["\u02b0","h"],["\u02b1","h"],["\u0266","h"],["\u02b2","j"],["\u02b3","r"],["\u02b4","\u0279"],["\u02b5","\u027b"],["\u02b6","\u0281"],["\u02b7","w"],["\u02b8","y"],["\u02e0","\u0263"],["\u02e1","l"],["\u02e2","s"],["\u02e3","x"],["\u02e4","\u0295"],["\u0390","\u03b9"],["\u03ac","\u03b1"],["\u03ad","\u03b5"],["\u03ae","\u03b7"],["\u03af",
"\u03b9"],["\u03b0","\u03c5"],["\u03ca","\u03b9"],["\u03cb","\u03c5"],["\u03cc","\u03bf"],["\u03cd","\u03c5"],["\u03ce","\u03c9"],["\u03d0","\u03b2"],["\u03d1","\u03b8"],["\u03d2","\u03a5"],["\u03d3","\u03a5"],["\u03d4","\u03a5"],["\u03d5","\u03c6"],["\u03d6","\u03c0"],["\u03f0","\u03ba"],["\u03f1","\u03c1"],["\u03f2","\u03c2"],["\u03f5","\u03b5"],["\u0439","\u0438"],["\u0450","\u0435"],["\u0451","\u0435"],["\u0453","\u0433"],["\u0457","\u0456"],["\u045c","\u043a"],["\u045d","\u0438"],["\u045e","\u0443"],
["\u0477","\u0475"],["\u04c2","\u0436"],["\u04d1","\u0430"],["\u04d3","\u0430"],["\u04d7","\u0435"],["\u04db","\u04d9"],["\u04dd","\u0436"],["\u04df","\u0437"],["\u04e3","\u0438"],["\u04e5","\u0438"],["\u04e7","\u043e"],["\u04eb","\u04e9"],["\u04ed","\u044d"],["\u04ef","\u0443"],["\u04f1","\u0443"],["\u04f3","\u0443"],["\u04f5","\u0447"]];const da=/[^\p{L}\p{N}]+/u,ea=/(\d{3})/g,fa=/(\D)(\d{3})/g,ha=/(\d{3})(\D)/g,ia="".normalize&&/[\u0300-\u036f]/g;function K(a){if(!this||this.constructor!==K)return new K(...arguments);for(let c=0;c<arguments.length;c++)this.assign(arguments[c])}
K.prototype.assign=function(a){this.normalize=B(a.normalize,!0,this.normalize);let c=a.include,b=c||a.exclude||a.split;if("object"===typeof b){let d=!c,e="";a.include||(e+="\\p{Z}");b.letter&&(e+="\\p{L}");b.number&&(e+="\\p{N}",d=!!c);b.symbol&&(e+="\\p{S}");b.punctuation&&(e+="\\p{P}");b.control&&(e+="\\p{C}");if(b=b.char)e+="object"===typeof b?b.join(""):b;try{this.split=new RegExp("["+(c?"^":"")+e+"]+","u")}catch(g){this.split=/\s+/}this.numeric=d}else{try{this.split=B(b,da,this.split)}catch(d){this.split=
/\s+/}this.numeric=B(this.numeric,!0)}this.prepare=B(a.prepare,null,this.prepare);this.finalize=B(a.finalize,null,this.finalize);ia||(this.mapper=new Map(ca));this.rtl=a.rtl||!1;this.dedupe=B(a.dedupe,!0,this.dedupe);this.filter=B((b=a.filter)&&new Set(b),null,this.filter);this.matcher=B((b=a.matcher)&&new Map(b),null,this.matcher);this.mapper=B((b=a.mapper)&&new Map(b),null,this.mapper);this.stemmer=B((b=a.stemmer)&&new Map(b),null,this.stemmer);this.replacer=B(a.replacer,null,this.replacer);this.minlength=
B(a.minlength,1,this.minlength);this.maxlength=B(a.maxlength,0,this.maxlength);if(this.cache=b=B(a.cache,!0,this.cache))this.Z=null,this.la="number"===typeof b?b:2E5,this.R=new Map,this.W=new Map,this.D=this.h=128;this.G="";this.da=null;this.$="";this.ea=null;if(this.matcher)for(const d of this.matcher.keys())this.G+=(this.G?"|":"")+d;if(this.stemmer)for(const d of this.stemmer.keys())this.$+=(this.$?"|":"")+d;return this};
K.prototype.encode=function(a){if(this.cache&&a.length<=this.h)if(this.Z){if(this.R.has(a))return this.R.get(a)}else this.Z=setTimeout(ja,50,this);this.normalize&&(a="function"===typeof this.normalize?this.normalize(a):ia?a.normalize("NFKD").replace(ia,"").toLowerCase():a.toLowerCase());this.prepare&&(a=this.prepare(a));this.numeric&&3<a.length&&(a=a.replace(fa,"$1 $2").replace(ha,"$1 $2").replace(ea,"$1 "));const c=!(this.dedupe||this.mapper||this.filter||this.matcher||this.stemmer||this.replacer);
let b=[],d=this.split||""===this.split?a.split(this.split):a;for(let g=0,f,k;g<d.length;g++){if(!(f=k=d[g]))continue;if(f.length<this.minlength)continue;if(c){b.push(f);continue}if(this.filter&&this.filter.has(f))continue;if(this.cache&&f.length<=this.D)if(this.Z){var e=this.W.get(f);if(e||""===e){e&&b.push(e);continue}}else this.Z=setTimeout(ja,50,this);let h;this.stemmer&&2<f.length&&(this.ea||(this.ea=new RegExp("(?!^)("+this.$+")$")),f=f.replace(this.ea,l=>this.stemmer.get(l)),h=1);f&&h&&(f.length<
this.minlength||this.filter&&this.filter.has(f))&&(f="");if(f&&(this.mapper||this.dedupe&&1<f.length)){e="";for(let l=0,m="",u,n;l<f.length;l++)u=f.charAt(l),u===m&&this.dedupe||((n=this.mapper&&this.mapper.get(u))||""===n?n===m&&this.dedupe||!(m=n)||(e+=n):e+=m=u);f=e}this.matcher&&1<f.length&&(this.da||(this.da=new RegExp("("+this.G+")","g")),f=f.replace(this.da,l=>this.matcher.get(l)));if(f&&this.replacer)for(e=0;f&&e<this.replacer.length;e+=2)f=f.replace(this.replacer[e],this.replacer[e+1]);this.cache&&
k.length<=this.D&&(this.W.set(k,f),this.W.size>this.la&&(this.W.clear(),this.D=this.D/1.1|0));f&&b.push(f)}this.finalize&&(b=this.finalize(b)||b);this.cache&&a.length<=this.h&&(this.R.set(a,b),this.R.size>this.la&&(this.R.clear(),this.h=this.h/1.1|0));return b};function ja(a){a.Z=null;a.R.clear();a.W.clear()};async function ka(a){a=a.data;var c=self._index;const b=a.args;var d=a.task;switch(d){case "init":d=a.options||{};(c=a.factory)?(Function("return "+c)()(self),self._index=new self.FlexSearch.Index(d),delete self.FlexSearch):self._index=new L(d);postMessage({id:a.id});break;default:a=a.id,c=c[d].apply(c,b),postMessage("search"===d?{id:a,msg:c}:{id:a})}};let la=0;
function M(a={}){function c(f){function k(h){h=h.data||h;const l=h.id,m=l&&e.h[l];m&&(m(h.msg),delete e.h[l])}this.F=f;this.h=C();if(this.F){d?this.F.on("message",k):this.F.onmessage=k;if(a.config)return new Promise(function(h){e.h[++la]=function(){h(e)};e.F.postMessage({id:la,task:"init",factory:b,options:a})});this.F.postMessage({task:"init",factory:b,options:a});return this}}if(!this||this.constructor!==M)return new M(a);let b="undefined"!==typeof self?self._factory:"undefined"!==typeof window?window._factory:
null;b&&(b=b.toString());const d="undefined"===typeof window,e=this,g=ma(b,d,a.F);return g.then?g.then(function(f){return c.call(e,f)}):c.call(this,g)}N("add");N("append");N("search");N("update");N("remove");
function N(a){M.prototype[a]=M.prototype[a+"Async"]=async function(){const c=this,b=[].slice.call(arguments);var d=b[b.length-1];let e;"function"===typeof d&&(e=d,b.splice(b.length-1,1));d=new Promise(function(g){c.h[++la]=g;c.F.postMessage({task:a,id:la,args:b})});return e?(d.then(e),this):d}}
function ma(a,c,b){return c?"undefined"!==typeof module?(0,eval)('new (require("worker_threads")["Worker"])(__dirname + "/node/node.js")'):(0,eval)('import("worker_threads").then(function(worker){ return new worker["Worker"]((1,eval)("import.meta.dirname") + "/node/node.mjs"); })'):a?new window.Worker(URL.createObjectURL(new Blob(["onmessage="+ka.toString()],{type:"text/javascript"}))):new window.Worker(G(b)?b:(0,eval)("import.meta.url").replace("/worker.js","/worker/worker.js").replace("flexsearch.bundle.module.min.js",
"module/worker/worker.js"),{type:"module"})};function na(a){O.call(a,"add");O.call(a,"append");O.call(a,"search");O.call(a,"update");O.call(a,"remove")}function O(a){this[a+"Async"]=function(){var c=arguments;const b=c[c.length-1];let d;"function"===typeof b&&(d=b,delete c[c.length-1]);c=this[a].apply(this,c);d&&(c.then?c.then(d):d(c));return c}};function oa(a,c){c||(c=new Map);for(let b=0,d;b<a.length;b++)d=a[b],c.set(d[0],d[1]);return c}function pa(a,c){c||(c=new Map);for(let b=0,d,e;b<a.length;b++)d=a[b],e=c.get(d[0]),c.set(d[0],oa(d[1],e));return c}function qa(a,c){c||(c=new Set);for(let b=0;b<a.length;b++)c.add(a[b]);return c};function ra(a,c,b,d){let e=[];for(let g=0,f;g<a.index.length;g++)if(f=a.index[g],c>=f.length)c-=f.length;else{c=f[d?"splice":"slice"](c,b);const k=c.length;if(k&&(e=e.length?e.concat(c):c,b-=k,d&&(a.length-=k),!b))break;c=0}return e}
function P(a){if(!this)return new P(a);this.index=a?[a]:[];this.length=a?a.length:0;const c=this;return new Proxy([],{get(b,d){if("length"===d)return c.length;if("push"===d)return function(e){c.index[c.index.length-1].push(e);c.length++};if("pop"===d)return function(){if(c.length)return c.length--,c.index[c.index.length-1].pop()};if("indexOf"===d)return function(e){let g=0;for(let f=0,k,h;f<c.index.length;f++){k=c.index[f];h=k.indexOf(e);if(0<=h)return g+h;g+=k.length}return-1};if("includes"===d)return function(e){for(let g=
0;g<c.index.length;g++)if(c.index[g].includes(e))return!0;return!1};if("slice"===d)return function(e,g){return ra(c,e||0,g||c.length,!1)};if("splice"===d)return function(e,g){return ra(c,e||0,g||c.length,!0)};if("constructor"===d)return Array;if("symbol"!==typeof d)return(b=c.index[d/2**31|0])&&b[d]},set(b,d,e){b=d/2**31|0;(c.index[b]||(c.index[b]=[]))[d]=e;c.length++;return!0}})}P.prototype.clear=function(){this.index.length=0};P.prototype.push=function(){};
function Q(a=8){if(!this)return new Q(a);this.index=C();this.G=[];this.size=0;32<a?(this.h=sa,this.D=BigInt(a)):(this.h=ta,this.D=a)}Q.prototype.get=function(a){const c=this.index[this.h(a)];return c&&c.get(a)};Q.prototype.set=function(a,c){var b=this.h(a);let d=this.index[b];d?(b=d.size,d.set(a,c),(b-=d.size)&&this.size++):(this.index[b]=d=new Map([[a,c]]),this.G.push(d))};function R(a=8){if(!this)return new R(a);this.index=C();this.h=[];32<a?(this.G=sa,this.D=BigInt(a)):(this.G=ta,this.D=a)}
R.prototype.add=function(a){var c=this.G(a);let b=this.index[c];b?(c=b.size,b.add(a),(c-=b.size)&&this.size++):(this.index[c]=b=new Set([a]),this.h.push(b))};A=Q.prototype;A.has=R.prototype.has=function(a){const c=this.index[this.G(a)];return c&&c.has(a)};A.delete=R.prototype.delete=function(a){const c=this.index[this.G(a)];c&&c.delete(a)&&this.size--};A.clear=R.prototype.clear=function(){this.index=C();this.h=[];this.size=0};A.values=R.prototype.values=function*(){for(let a=0;a<this.h.length;a++)for(let c of this.h[a].values())yield c};
A.keys=R.prototype.keys=function*(){for(let a=0;a<this.h.length;a++)for(let c of this.h[a].keys())yield c};A.entries=R.prototype.entries=function*(){for(let a=0;a<this.h.length;a++)for(let c of this.h[a].entries())yield c};function ta(a){let c=2**this.D-1;if("number"==typeof a)return a&c;let b=0,d=this.D+1;for(let e=0;e<a.length;e++)b=(b*d^a.charCodeAt(e))&c;return 32===this.D?b+2**31:b}
function sa(a){let c=BigInt(2)**this.D-BigInt(1);var b=typeof a;if("bigint"===b)return a&c;if("number"===b)return BigInt(a)&c;b=BigInt(0);let d=this.D+BigInt(1);for(let e=0;e<a.length;e++)b=(b*d^BigInt(a.charCodeAt(e)))&c;return b};S.prototype.add=function(a,c,b){H(a)&&(c=a,a=J(c,this.key));if(c&&(a||0===a)){if(!b&&this.B.has(a))return this.update(a,c);for(let k=0,h;k<this.A.length;k++){h=this.M[k];var d=this.index.get(this.A[k]);if("function"===typeof h){var e=h(c);e&&d.add(a,e,!1,!0)}else if(e=h.V,!e||e(c))h.constructor===String?h=[""+h]:G(h)&&(h=[h]),ua(c,h,this.X,0,d,a,h[0],b)}if(this.tag)for(d=0;d<this.P.length;d++){var g=this.P[d],f=this.ba[d];e=this.tag.get(f);let k=C();if("function"===typeof g){if(g=g(c),!g)continue}else{const h=
g.V;if(h&&!h(c))continue;g.constructor===String&&(g=""+g);g=J(c,g)}if(e&&g){G(g)&&(g=[g]);for(let h=0,l,m;h<g.length;h++)if(l=g[h],!k[l]&&(k[l]=1,(f=e.get(l))?m=f:e.set(l,m=[]),!b||!m.includes(a))){if(m.length===2**31-1){f=new P(m);if(this.C)for(let u of this.B.values())u.includes(m)&&(u[u.indexOf(m)]=f);e.set(l,m=f)}m.push(a);this.C&&((f=this.B.get(a))?f.push(m):this.B.set(a,[m]))}}else e||console.warn("Tag '"+f+"' was not found")}if(this.store&&(!b||!this.store.has(a))){let k;if(this.L){k=C();for(let h=
0,l;h<this.L.length;h++){l=this.L[h];if((b=l.V)&&!b(c))continue;let m;if("function"===typeof l){m=l(c);if(!m)continue;l=[l.oa]}else if(G(l)||l.constructor===String){k[l]=c[l];continue}va(c,k,l,0,l[0],m)}}this.store.set(a,k||c)}}return this};function va(a,c,b,d,e,g){a=a[e];if(d===b.length-1)c[e]=g||a;else if(a)if(a.constructor===Array)for(c=c[e]=Array(a.length),e=0;e<a.length;e++)va(a,c,b,d,e);else c=c[e]||(c[e]=C()),e=b[++d],va(a,c,b,d,e)}
function ua(a,c,b,d,e,g,f,k){if(a=a[f])if(d===c.length-1){if(a.constructor===Array){if(b[d]){for(c=0;c<a.length;c++)e.add(g,a[c],!0,!0);return}a=a.join(" ")}e.add(g,a,k,!0)}else if(a.constructor===Array)for(f=0;f<a.length;f++)ua(a,c,b,d,e,g,f,k);else f=c[++d],ua(a,c,b,d,e,g,f,k);else e.db&&e.remove(g)};function wa(a,c,b,d,e,g,f){const k=a.length;let h=[],l;var m;l=C();for(let u=0,n,p,t,q;u<c;u++)for(let v=0;v<k;v++)if(t=a[v],u<t.length&&(n=t[u]))for(let w=0;w<n.length;w++)p=n[w],(m=l[p])?l[p]++:(m=0,l[p]=1),q=h[m]||(h[m]=[]),f||(m=u+(v?0:g||0),q=q[m]||(q[m]=[])),q.push(p);if(a=h.length)if(e)h=1<h.length?xa(h,d,b,f,0):(h=h[0]).length>b||d?h.slice(d,b+d):h;else{if(a<k)return[];h=h[a-1];if(b||d)if(f){if(h.length>b||d)h=h.slice(d,b+d)}else{e=[];for(let u=0,n;u<h.length;u++)if(n=h[u],n.length>d)d-=n.length;
else{if(n.length>b||d)n=n.slice(d,b+d),b-=n.length,d&&(d-=n.length);e.push(n);if(!b)break}h=1<e.length?[].concat.apply([],e):e[0]}}return h}
function xa(a,c,b,d,e){const g=[],f=C();let k;var h=a.length;let l,m=0;if(d)for(e=h-1;0<=e;e--)for(d=a[e],l=d.length,h=0;h<l;h++){if(k=d[h],!f[k])if(f[k]=1,c)c--;else if(g.push(k),g.length===b)return g}else{let u=ba(a);for(let n=0;n<u;n++)for(let p=h-1;0<=p;p--)if(l=(d=a[p][n])&&d.length)for(let t=0;t<l;t++)if(k=d[t],!f[k])if(f[k]=1,c)c--;else{let q=n+(p<h-1?e||0:0);(g[q]||(g[q]=[])).push(k);if(++m===b)return g}}return g}
function ya(a,c){const b=C(),d=[];for(let e=0,g;e<c.length;e++){g=c[e];for(let f=0;f<g.length;f++)b[g[f]]=1}for(let e=0,g;e<a.length;e++)g=a[e],1===b[g]&&(d.push(g),b[g]=2);return d};S.prototype.search=function(a,c,b,d){b||(!c&&H(a)?(b=a,a=""):H(c)&&(b=c,c=0));let e=[],g=[],f;let k;let h;let l,m=0,u;if(b){b.constructor===Array&&(b={index:b});a=b.query||a;f=b.Da;k=b.Ca;h=f||b.A||b.index;var n=this.tag&&b.tag;var p=this.store&&b.H;var t=b.ka;u=b.pa;c=b.I||c;l=b.offset||0;c||(c=100);if(n&&(!this.db||!d)){n.constructor!==Array&&(n=[n]);var q=[];for(let x=0,r;x<n.length;x++){r=n[x];if(G(r))throw Error("A tag option can't be a string, instead it needs a { field: tag } format.");if(r.A&&
r.tag){var v=r.tag;if(v.constructor===Array)for(var w=0;w<v.length;w++)q.push(r.A,v[w]);else q.push(r.A,v)}else{v=Object.keys(r);for(let y=0,I,D;y<v.length;y++)if(I=v[y],D=r[I],D.constructor===Array)for(w=0;w<D.length;w++)q.push(I,D[w]);else q.push(I,D)}}if(!q.length)throw Error("Your tag definition within the search options is probably wrong. No valid tags found.");n=q;if(!a){t=[];if(q.length)for(n=0;n<q.length;n+=2){if(this.db){d=this.index.get(q[n]);if(!d){console.warn("Tag '"+q[n]+":"+q[n+1]+
"' will be skipped because there is no field '"+q[n]+"'.");continue}t.push(d=d.db.tag(q[n+1],c,l,p))}else d=za.call(this,q[n],q[n+1],c,l,p);e.push({field:q[n],tag:q[n+1],result:d})}return t.length?Promise.all(t).then(function(x){for(let r=0;r<x.length;r++)e[r].result=x[r];return e}):e}}G(h)&&(h=[h])}h||(h=this.A);q=!d&&(this.F||this.db)&&[];let z;for(let x=0,r,y,I;x<h.length;x++){y=h[x];if(this.db&&this.tag&&!this.M[x])continue;let D;G(y)||(D=y,y=D.A,a=D.query||a,c=D.I||c,l=D.offset||l,t=D.ka||t,
p=this.store&&(D.H||p));if(d)r=d[x];else if(v=D||b,w=this.index.get(y),n&&(this.db&&(v.tag=n,z=w.db.Fa,v.A=h),z||(v.H=!1)),q){q[x]=w.search(a,c,v);v&&p&&(v.H=p);continue}else r=w.search(a,c,v),v&&p&&(v.H=p);I=r&&r.length;if(n&&I){v=[];w=0;if(this.db&&d){if(!z)for(let E=h.length;E<d.length;E++){let F=d[E];if(F&&F.length)w++,v.push(F);else if(!t)return e}}else for(let E=0,F,Za;E<n.length;E+=2){F=this.tag.get(n[E]);if(!F)if(console.warn("Tag '"+n[E]+":"+n[E+1]+"' will be skipped because there is no field '"+
n[E]+"'."),t)continue;else return e;if(Za=(F=F&&F.get(n[E+1]))&&F.length)w++,v.push(F);else if(!t)return e}if(w){r=ya(r,v);I=r.length;if(!I&&!t)return e;w--}}if(I)g[m]=y,e.push(r),m++;else if(1===h.length)return e}if(q){if(this.db&&n&&n.length&&!z)for(p=0;p<n.length;p+=2){d=this.index.get(n[p]);if(!d)if(console.warn("Tag '"+n[p]+":"+n[p+1]+"' was not found because there is no field '"+n[p]+"'."),t)continue;else return e;q.push(d.db.tag(n[p+1],c,l,!1))}const x=this;return Promise.all(q).then(function(r){return r.length?
x.search(a,c,b,r):r})}if(!m)return e;if(f&&(!p||!this.store))return e[0];q=[];for(let x=0,r;x<g.length;x++){r=e[x];p&&r.length&&!r[0].ha&&(this.db?q.push(r=this.index.get(this.A[0]).db.H(r)):r.length&&(r=Aa.call(this,r)));if(f)return r;e[x]={field:g[x],result:r}}if(p&&this.db&&q.length){const x=this;return Promise.all(q).then(function(r){for(let y=0;y<r.length;y++)e[y].result=r[y];return k?Ba(e,c):u?Ca(e,a,x.index,x.A,x.M,u):e})}return k?Ba(e,c):u?Ca(e,a,this.index,this.A,this.M,u):e};
function Ca(a,c,b,d,e,g){let f,k,h;for(let m=0,u,n,p,t,q;m<a.length;m++){u=a[m].result;n=a[m].A;t=b.get(n);p=t.U;h=t.ca;q=e[d.indexOf(n)];p!==f&&(f=p,k=f.encode(c));for(let v=0;v<u.length;v++){let w="";var l=J(u[v].ha,q);let z=f.encode(l);l=l.split(f.split);for(let x=0,r,y;x<z.length;x++){r=z[x];y=l[x];let I;for(let D=0,E;D<k.length;D++)if(E=k[D],"strict"===h){if(r===E){w+=(w?" ":"")+g.replace("$1",y);I=!0;break}}else{const F=r.indexOf(E);if(-1<F){w+=(w?" ":"")+y.substring(0,F)+g.replace("$1",y.substring(F,
E.length))+y.substring(F+E.length);I=!0;break}}I||(w+=(w?" ":"")+l[x])}u[v].pa=w}}return a}function Ba(a,c){const b=[],d=C();for(let e=0,g,f;e<a.length;e++){g=a[e];f=g.result;for(let k=0,h,l,m;k<f.length;k++)if(l=f[k],h=l.id,m=d[h])m.push(g.A);else{if(b.length===c)return b;l.A=d[h]=[g.A];b.push(l)}}return b}
function za(a,c,b,d,e){let g=this.tag.get(a);if(!g)return console.warn("Tag '"+a+"' was not found"),[];if((a=(g=g&&g.get(c))&&g.length-d)&&0<a){if(a>b||d)g=g.slice(d,d+b);e&&(g=Aa.call(this,g));return g}}function Aa(a){const c=Array(a.length);for(let b=0,d;b<a.length;b++)d=a[b],c[b]={id:d,doc:this.store.get(d)};return c};function S(a){if(!this||this.constructor!==S)return new S(a);const c=a.document||a.ha||a;let b,d;this.M=[];this.A=[];this.X=[];this.key=(b=c.key||c.id)&&Da(b,this.X)||"id";(d=a.ia||0)&&(this.ia=d);this.B=(this.C=!!a.C)?d?new Q(d):new Map:d?new R(d):new Set;this.L=(b=c.store||null)&&b&&!0!==b&&[];this.store=b&&(d?new Q(d):new Map);this.cache=(b=a.cache||null)&&new T(b);a.cache=!1;this.F=a.F;this.index=Ea.call(this,a,c);this.tag=null;if(b=c.tag)if("string"===typeof b&&(b=[b]),b.length){this.tag=new Map;
this.P=[];this.ba=[];for(let e=0,g,f;e<b.length;e++){g=b[e];f=g.A||g;if(!f)throw Error("The tag field from the document descriptor is undefined.");g.T?this.P[e]=g.T:(this.P[e]=Da(f,this.X),g.filter&&("string"===typeof this.P[e]&&(this.P[e]=new String(this.P[e])),this.P[e].V=g.filter));this.ba[e]=f;this.tag.set(f,new Map)}}if(this.F){a=[];for(const e of this.index.values())e.then&&a.push(e);if(a.length){const e=this;return Promise.all(a).then(function(g){let f=0;for(const k of e.index.entries()){const h=
k[0];k[1].then&&e.index.set(h,g[f++])}return e})}}else a.db&&this.Y(a.db)}A=S.prototype;
A.Y=function(a){let c=this.A;if(this.tag)for(let e=0,g;e<this.ba.length;e++){g=this.ba[e];var b=void 0;this.index.set(g,b=new L({},this.B));c===this.A&&(c=c.slice(0));c.push(g);b.tag=this.tag.get(g)}b=[];const d={db:a.db,type:a.type,C:a.C};for(let e=0,g,f;e<c.length;e++){d.A=f=c[e];g=this.index.get(f);const k=new a.constructor(a.id,d);k.id=a.id;b[e]=k.Y(g);g.document=!0;e?g.Aa=!0:g.store=this.store}this.db=!0;return Promise.all(b)};
A.commit=async function(a,c){const b=[];for(const d of this.index.values())b.push(d.db.commit(d,a,c));await Promise.all(b);this.B.clear()};
function Ea(a,c){const b=new Map;let d=c.index||c.A||c;G(d)&&(d=[d]);for(let e=0,g,f;e<d.length;e++){g=d[e];G(g)||(f=g,g=g.A);f=H(f)?Object.assign({},a,f):a;if(this.F){const k=new M(f);b.set(g,k)}this.F||b.set(g,new L(f,this.B));f.T?this.M[e]=f.T:(this.M[e]=Da(g,this.X),f.filter&&("string"===typeof this.M[e]&&(this.M[e]=new String(this.M[e])),this.M[e].V=f.filter));this.A[e]=g}if(this.L){a=c.store;G(a)&&(a=[a]);for(let e=0,g,f;e<a.length;e++)g=a[e],f=g.A||g,g.T?(this.L[e]=g.T,g.T.oa=f):(this.L[e]=
Da(f,this.X),g.filter&&("string"===typeof this.L[e]&&(this.L[e]=new String(this.L[e])),this.L[e].V=g.filter))}return b}function Da(a,c){const b=a.split(":");let d=0;for(let e=0;e<b.length;e++)a=b[e],"]"===a[a.length-1]&&(a=a.substring(0,a.length-2))&&(c[d]=!0),a&&(b[d++]=a);d<b.length&&(b.length=d);return 1<d?b:b[0]}A.update=function(a,c){return this.remove(a).add(a,c)};
A.remove=function(a){H(a)&&(a=J(a,this.key));for(var c of this.index.values())c.remove(a,!0);if(this.B.has(a)){if(this.tag&&!this.C)for(let b of this.tag.values())for(let d of b){c=d[0];const e=d[1],g=e.indexOf(a);-1<g&&(1<e.length?e.splice(g,1):b.delete(c))}this.store&&this.store.delete(a);this.B.delete(a)}this.cache&&this.cache.remove(a);return this};
A.clear=function(){for(const a of this.index.values())a.clear();if(this.tag)for(const a of this.tag.values())a.clear();this.store&&this.store.clear();return this};A.get=function(a){return this.db?this.index.get(this.A[0]).db.H(a).then(function(c){return c[0]&&c[0].ha}):this.store.get(a)};A.set=function(a,c){this.store.set(a,c);return this};
A.import=function(a,c){if(c){G(c)&&(c=JSON.parse(c));a=a.split(".");"json"===a[a.length-1]&&a.pop();var b=2<a.length?a[0]:"";a=2<a.length?a[2]:a[1];if(b)return this.index.get(b).import(a,c);switch(a){case "reg":this.C=!1;this.B=qa(c,this.B);for(let d=0,e;d<this.A.length;d++)e=this.index.get(this.A[d]),e.C=!1,e.B=this.B;break;case "tag":this.tag=pa(c,this.tag);break;case "doc":this.store=oa(c,this.store)}}};na(S.prototype);function T(a){this.I=a&&!0!==a?a:1E3;this.cache=new Map;this.h=""}T.prototype.set=function(a,c){this.cache.set(this.h=a,c);this.cache.size>this.I&&this.cache.delete(this.cache.keys().next().value)};T.prototype.get=function(a){const c=this.cache.get(a);c&&this.h!==a&&(this.cache.delete(a),this.cache.set(this.h=a,c));return c};T.prototype.remove=function(a){for(const c of this.cache){const b=c[0];c[1].includes(a)&&this.cache.delete(b)}};T.prototype.clear=function(){this.cache.clear();this.h=""};const Fa={normalize:function(a){return a.toLowerCase()},dedupe:!1};const Ga=new Map([["b","p"],["v","f"],["w","f"],["z","s"],["x","s"],["d","t"],["n","m"],["c","k"],["g","k"],["j","k"],["q","k"],["i","e"],["y","e"],["u","o"]]);const Ha=new Map([["ae","a"],["oe","o"],["sh","s"],["kh","k"],["th","t"],["pf","f"]]),Ia=[/([^aeo])h(.)/g,"$1$2",/([aeo])h([^aeo]|$)/g,"$1$2",/([^0-9])\1+/g,"$1"];const Ja={a:"",e:"",i:"",o:"",u:"",y:"",b:1,f:1,p:1,v:1,c:2,g:2,j:2,k:2,q:2,s:2,x:2,z:2,"\u00df":2,d:3,t:3,l:4,m:5,n:5,r:6};const Ka=/[\x00-\x7F]+/g;const La=/[\x00-\x7F]+/g;const Ma=/[\x00-\x7F]+/g;var Na={wa:{normalize:!1,dedupe:!1},va:Fa,ya:{normalize:!0,dedupe:!0},ua:{normalize:!0,dedupe:!0,mapper:Ga},ta:{normalize:!0,dedupe:!0,mapper:Ga,matcher:Ha,replacer:Ia},xa:{normalize:!0,dedupe:!0,mapper:Ga,replacer:Ia.concat([/(?!^)[aeo]/g,""]),matcher:Ha},za:{normalize:!0,dedupe:!1,include:{letter:!0},finalize:function(a){for(let b=0;b<a.length;b++){var c=a[b];let d=c.charAt(0),e=Ja[d];for(let g=1,f;g<c.length&&(f=c.charAt(g),"h"===f||"w"===f||!(f=Ja[f])||f===e||(d+=f,e=f,4!==d.length));g++);a[b]=
d}}},qa:{rtl:!0,normalize:!1,dedupe:!0,prepare:function(a){return(""+a).replace(Ka," ")}},ra:{normalize:!1,dedupe:!0,split:"",prepare:function(a){return(""+a).replace(La,"")}},sa:{normalize:!1,dedupe:!0,prepare:function(a){return(""+a).replace(Ma," ")}}};const Oa={memory:{K:1},performance:{K:6,C:!0,context:{depth:1,K:3}},match:{ca:"forward"},score:{K:9,context:{depth:2,K:9}}};const Pa=C();let U,Qa;const V=new Map;function Ra(a){if(Qa){if(V.has(a))return V.get(a)}else Qa=setTimeout(Sa);if("number"==typeof a)var c=a;else{var b=2**32-1;if("number"==typeof a)c=a&b;else{c=0;for(var d=0;d<a.length;d++)c=(33*c^a.charCodeAt(d))&b;c+=2**31}}if(!U){U=Array(255);for(b=0;255>b;b++)U[b]=b+1;U=String.fromCharCode.apply(null,U)}b=c;for(d="";c=b%255,d=U.charAt(c)+d,b=b/255|0,b;);c=d;2E5<V.size&&V.clear();V.set(a,c);return c}function Sa(){Qa=null;V.clear()};L.prototype.add=function(a,c,b,d){if(c&&(a||0===a)){if(!d&&!b&&this.B.has(a))return this.update(a,c);c=this.U.encode(c);if(d=c.length){const l=C(),m=C(),u=this.depth,n=this.K;for(let p=0;p<d;p++){let t=c[this.rtl?d-1-p:p];var e=t.length;if(e&&(u||!m[t])){var g=this.O?this.O(c,t,p,null,0):Ta(n,d,p),f="";switch(this.ca){case "full":if(2<e){for(g=0;g<e;g++)for(var k=e;k>g;k--){f=t.substring(g,k);var h=this.O?this.O(c,t,p,f,g):Ta(n,d,p,e,g);W(this,m,f,h,a,b)}break}case "reverse":if(1<e){for(k=e-1;0<k;k--)f=
t[k]+f,h=this.O?this.O(c,t,p,f,k):Ta(n,d,p,e,k),W(this,m,f,h,a,b);f=""}case "forward":if(1<e){for(k=0;k<e;k++)f+=t[k],W(this,m,f,g,a,b);break}default:if(W(this,m,t,g,a,b),u&&1<d&&p<d-1)for(e=C(),f=this.ja,g=t,k=Math.min(u+1,d-p),e[g]=1,h=1;h<k;h++)if((t=c[this.rtl?d-1-p-h:p+h])&&!e[t]){e[t]=1;const q=this.O?this.O(c,g,p,t,h):Ta(f+(d/2>f?0:1),d,p,k-1,h-1),v=this.fa&&t>g;W(this,l,v?g:t,q,a,b,v?t:g)}}}}this.C||this.B.add(a)}else c=""}this.db&&(c||this.ga.push({del:a}),this.na&&Ua(this));return this};
function W(a,c,b,d,e,g,f){let k=f?a.S:a.map,h;if(!c[b]||f&&!(h=c[b])[f])if(f?(c=h||(c[b]=C()),c[f]=1,a.aa&&(f=Ra(f)),(h=k.get(f))?k=h:k.set(f,k=new Map)):c[b]=1,a.aa&&(b=Ra(b)),(h=k.get(b))?k=h:k.set(b,k=h=[]),k=k[d]||(k[d]=[]),!g||!k.includes(e)){if(k.length===2**31-1){c=new P(k);if(a.C)for(let l of a.B.values())l.includes(k)&&(l[l.indexOf(k)]=c);h[d]=k=c}k.push(e);a.C&&((d=a.B.get(e))?d.push(k):a.B.set(e,[k]))}}
function Ta(a,c,b,d,e){return b&&1<a?c+(d||0)<=a?b+(e||0):(a-1)/(c+(d||0))*(b+(e||0))+1|0:0};function X(a,c,b,d){if(1===a.length)return a=a[0],a=b||a.length>c?c?a.slice(b,b+c):a.slice(b):a,d?Va(a):a;let e=[];for(let g=0,f,k;g<a.length;g++)if((f=a[g])&&(k=f.length)){if(b){if(b>=k){b-=k;continue}b<k&&(f=c?f.slice(b,b+c):f.slice(b),k=f.length,b=0)}if(e.length)k>c&&(f=f.slice(0,c),k=f.length),e.push(f);else{if(k>=c)return k>c&&(f=f.slice(0,c)),d?Va(f):f;e=[f]}c-=k;if(!c)break}if(!e.length)return e;e=1<e.length?[].concat.apply([],e):e[0];return d?Va(e):e}
function Va(a){for(let c=0;c<a.length;c++)a[c]={score:c,id:a[c]};return a};Y.prototype.or=function(){const a=this;let c=arguments;var b=c[0];if(b.then)return b.then(function(){return a.or.apply(a,c)});if(b[0]&&b[0].index)return this.or.apply(this,b);let d=[];b=[];let e=0,g=0,f,k;for(let h=0,l;h<c.length;h++)if(l=c[h]){e=l.I||0;g=l.offset||0;f=l.H;k=l.resolve;let m;if(l.constructor===Y)m=l.result;else if(l.constructor===Array)m=l;else if(l.index)l.resolve=!1,m=l.index.search(l).result;else if(l.and)m=this.and(l.and);else if(l.xor)m=this.xor(l.xor);else if(l.J)m=this.J(l.J);
else continue;d[h]=m;m.then&&b.push(m)}if(b.length)return Promise.all(b).then(function(){a.result.length&&(d=d.concat([a.result]));a.result=Wa(d,e,g,f,k,a.N);return k?a.result:a});d.length&&(this.result.length&&(d=d.concat([this.result])),this.result=Wa(d,e,g,f,k,this.N));return k?this.result:this};function Wa(a,c,b,d,e,g){if(!a.length)return a;"object"===typeof c&&(b=c.offset||0,d=c.H||!1,c=c.I||0);return 2>a.length?e?X(a[0],c,b,d):a[0]:xa(a,b,c,e,g)};Y.prototype.and=function(){if(this.result.length){const c=this;let b=arguments;var a=b[0];if(a.then)return a.then(function(){return c.and.apply(c,b)});if(a[0]&&a[0].index)return this.and.apply(this,a);let d=[];a=[];let e=0,g=0,f,k;for(let h=0,l;h<b.length;h++)if(l=b[h]){e=l.I||0;g=l.offset||0;f=l.resolve;k=l.ka;let m;if(l.constructor===Y)m=l.result;else if(l.constructor===Array)m=l;else if(l.index)l.resolve=!1,m=l.index.search(l).result;else if(l.or)m=this.or(l.or);else if(l.xor)m=this.xor(l.xor);
else if(l.J)m=this.J(l.J);else continue;d[h]=m;m.then&&a.push(m)}if(!d.length)return this.result=d,f?this.result:this;if(a.length)return Promise.all(a).then(function(){d=[c.result].concat(d);c.result=Xa(d,e,g,f,c.N,k);return f?c.result:c});d=[this.result].concat(d);this.result=Xa(d,e,g,f,this.N,k);return f?this.result:this}return this};function Xa(a,c,b,d,e,g){if(2>a.length)return[];let f=[];C();let k=ba(a);return k?wa(a,k,c,b,g,e,d):f};Y.prototype.xor=function(){const a=this;let c=arguments;var b=c[0];if(b.then)return b.then(function(){return a.xor.apply(a,c)});if(b[0]&&b[0].index)return this.xor.apply(this,b);let d=[];b=[];let e=0,g=0,f,k;for(let h=0,l;h<c.length;h++)if(l=c[h]){e=l.I||0;g=l.offset||0;f=l.H;k=l.resolve;let m;if(l.constructor===Y)m=l.result;else if(l.constructor===Array)m=l;else if(l.index)l.resolve=!1,m=l.index.search(l).result;else if(l.or)m=this.or(l.or);else if(l.and)m=this.and(l.and);else if(l.J)m=this.J(l.J);
else continue;d[h]=m;m.then&&b.push(m)}if(b.length)return Promise.all(b).then(function(){a.result.length&&(d=[a.result].concat(d));a.result=Ya(d,e,g,f,!k,a.N);return k?a.result:a});d.length&&(this.result.length&&(d=[this.result].concat(d)),this.result=Ya(d,e,g,f,!k,a.N));return k?this.result:this};
function Ya(a,c,b,d,e,g){if(!a.length)return a;if(2>a.length)return e?X(a[0],c,b,d):a[0];d=[];const f=C();let k=0;for(let h=0,l;h<a.length;h++)if(l=a[h])for(let m=0,u;m<l.length;m++)if(u=l[m]){k<u.length&&(k=u.length);for(let n=0,p;n<u.length;n++)p=u[n],f[p]?f[p]++:f[p]=1}for(let h=0,l,m=0;h<k;h++)for(let u=0,n;u<a.length;u++)if(n=a[u])if(l=n[h])for(let p=0,t;p<l.length;p++)if(t=l[p],1===f[t])if(b)b--;else if(e){if(d.push(t),d.length===c)return d}else{const q=h+(u?g:0);d[q]||(d[q]=[]);d[q].push(t);
if(++m===c)return d}return d};Y.prototype.J=function(){const a=this;let c=arguments;var b=c[0];if(b.then)return b.then(function(){return a.J.apply(a,c)});if(b[0]&&b[0].index)return this.J.apply(this,b);let d=[];b=[];let e=0,g=0,f;for(let k=0,h;k<c.length;k++)if(h=c[k]){e=h.I||0;g=h.offset||0;f=h.resolve;let l;if(h.constructor===Y)l=h.result;else if(h.constructor===Array)l=h;else if(h.index)h.resolve=!1,l=h.index.search(h).result;else if(h.or)l=this.or(h.or);else if(h.and)l=this.and(h.and);else if(h.xor)l=this.xor(h.xor);else continue;
d[k]=l;l.then&&b.push(l)}if(b.length)return Promise.all(b).then(function(){a.result=$a.call(a,d,e,g,f);return f?a.result:a});d.length&&(this.result=$a.call(this,d,e,g,f));return f?this.result:this};
function $a(a,c,b,d){if(!a.length)return this.result;const e=[];a=new Set(a.flat().flat());for(let g=0,f,k=0;g<this.result.length;g++)if(f=this.result[g])for(let h=0,l;h<f.length;h++)if(l=f[h],!a.has(l))if(b)b--;else if(d){if(e.push(l),e.length===c)return e}else if(e[g]||(e[g]=[]),e[g].push(l),++k===c)return e;return e};function Y(a){if(!this||this.constructor!==Y)return new Y(a);if(a&&a.index)return a.resolve=!1,this.index=a.index,this.N=a.ma||0,this.result=a.index.search(a).result,this;if(a.constructor===Y)return a;this.index=null;this.result=a||[];this.N=0}Y.prototype.I=function(a){if(this.result.length){const c=[];let b=0;for(let d=0,e;d<this.result.length;d++)if(e=this.result[d],e.length+b<a)c[d]=e,b+=e.length;else{c[d]=e.slice(0,a-b);this.result=c;break}}return this};
Y.prototype.offset=function(a){if(this.result.length){const c=[];let b=0;for(let d=0,e;d<this.result.length;d++)e=this.result[d],e.length+b<a?b+=e.length:(c[d]=e.slice(a-b),b=a);this.result=c}return this};Y.prototype.ma=function(a){this.N+=a;return this};Y.prototype.resolve=function(a,c,b){ab=1;const d=this.result;this.result=this.index=null;return d.length?("object"===typeof a&&(b=a.H,c=a.offset,a=a.I),X(d,a||100,c,b)):d};let ab=1;
L.prototype.search=function(a,c,b){b||(!c&&H(a)?(b=a,a=""):H(c)&&(b=c,c=0));let d=[],e,g,f,k=0,h,l,m,u,n;b?(a=b.query||a,c=b.I||c,k=b.offset||0,g=b.context,f=b.ka,(h=ab&&!1!==b.resolve)||(ab=0),l=h&&b.H,u=b.ma,n=b.K,m=this.db&&b.tag):h=this.resolve||ab;let p=this.U.encode(a);e=p.length;c||!h||(c=100);if(1===e)return bb.call(this,p[0],"",c,k,h,l,m);g=this.depth&&!1!==g;if(2===e&&g&&!f)return bb.call(this,p[0],p[1],c,k,h,l,m);let t=b=0;if(1<e){const w=C(),z=[];for(let x=0,r;x<e;x++)if((r=p[x])&&!w[r]){if(f||
this.db||Z(this,r))z.push(r),w[r]=1;else return h?d:new Y(d);const y=r.length;b=Math.max(b,y);t=t?Math.min(t,y):y}p=z;e=a.length}if(!e)return h?d:new Y(d);let q=0,v;if(1===e)return bb.call(this,p[0],"",c,k,h,l,m);if(2===e&&g&&!f)return bb.call(this,p[0],p[1],c,k,h,l,m);1<e&&(g?(v=p[0],q=1):9<b&&3<b/t&&p.sort(aa));n||0===n||(n=this.K);if(this.db){if(this.db.search&&(a=this.db.search(this,p,c,k,f,h,l,m),!1!==a))return a;const w=this;return async function(){for(let z,x;q<e;q++){x=p[q];v?(z=await Z(w,
x,v,0,0,!1,!1),z=cb(z,d,f,w.ja),f&&!1===z&&d.length||(v=x)):(z=await Z(w,x,"",0,0,!1,!1),z=cb(z,d,f,n));if(z)return z;if(f&&q===e-1){let r=d.length;if(!r){if(v){v="";q=-1;continue}return d}if(1===r)return h?X(d[0],c,k):new Y(d[0])}}return h?wa(d,n,c,k,f,u,h):new Y(d[0])}()}for(let w,z;q<e;q++){z=p[q];v?(w=Z(this,z,v,0,0,!1,!1),w=cb(w,d,f,this.ja),f&&!1===w&&d.length||(v=z)):(w=Z(this,z,"",0,0,!1,!1),w=cb(w,d,f,n));if(w)return w;if(f&&q===e-1){a=d.length;if(!a){if(v){v="";q=-1;continue}return d}if(1===
a)return h?X(d[0],c,k):new Y(d[0])}}d=wa(d,n,c,k,f,u,h);return h?d:new Y(d)};function bb(a,c,b,d,e,g,f){a=Z(this,a,c,b,d,e,g,f);return this.db?a.then(function(k){return e?k:k&&k.length?e?X(k,b,d):new Y(k):e?[]:new Y([])}):a&&a.length?e?X(a,b,d):new Y(a):e?[]:new Y([])}function cb(a,c,b,d){let e=[];if(a){d=Math.min(a.length,d);for(let g=0,f;g<d;g++)(f=a[g])&&f&&(e[g]=f);if(e.length){c.push(e);return}}return!b&&e}
function Z(a,c,b,d,e,g,f,k){let h;b&&(h=a.fa&&c>b);a.aa&&(c=Ra(c),b&&(b=Ra(b)));if(a.db)return b?a.db.get(h?b:c,h?c:b,d,e,g,f,k):a.db.get(c,"",d,e,g,f,k);a=b?(a=a.S.get(h?c:b))&&a.get(h?b:c):a.map.get(c);return a};L.prototype.remove=function(a,c){const b=this.B.size&&(this.C?this.B.get(a):this.B.has(a));if(b){if(this.C)for(let d=0,e;d<b.length;d++){if(e=b[d])if(2>e.length)e.pop();else{const g=e.indexOf(a);g===b.length-1?e.pop():e.splice(g,1)}}else db(this.map,a),this.depth&&db(this.S,a);c||this.B.delete(a)}this.db&&(this.ga.push({del:a}),this.na&&Ua(this));this.cache&&this.cache.remove(a);return this};
function db(a,c){let b=0;if(a.constructor===Array)for(let d=0,e,g;d<a.length;d++){if((e=a[d])&&e.length)if(g=e.indexOf(c),0<=g){1<e.length?(e.splice(g,1),b++):delete a[d];break}else b++}else for(let d of a){const e=d[0],g=db(d[1],c);g?b+=g:a.delete(e)}return b};function L(a,c){if(!this||this.constructor!==L)return new L(a);var b=Pa.profiler||(Pa.profiler={});b["Index.create"]||(b["Index.create"]=0);b["Index.create"]++;if(a){if(b=G(a)?a:a.Ea)Oa[b]||console.warn("Preset not found: "+b),a=Object.assign({},Oa[b],a)}else a={};b=a.context;const d=!0===b?{depth:1}:b||{},e=G(a.U)?Na[a.U]:a.encode||a.U||Fa;this.U=e.encode?e:"object"===typeof e?new K(e):{encode:e};this.aa=a.aa||a.Ba||!1;this.K=a.K||9;this.ca=b=a.ca||"strict";this.depth="strict"===b&&d.depth||0;this.fa=
!1!==d.fa;this.C=!!a.C;this.O=a.O||null;(b=a.ia||0)&&(this.ia=b);this.map=b?new Q(b):new Map;this.S=b?new Q(b):new Map;this.B=c||(this.C?b?new Q(b):new Map:b?new R(b):new Set);this.ja=d.K||3;this.rtl=e.rtl||a.rtl||!1;this.cache=(b=a.cache||null)&&new T(b);this.resolve=!1!==a.resolve;if(b=a.db)this.db=this.Y(b);this.na=!1!==a.commit;this.ga=[];this.h=null}A=L.prototype;A.Y=function(a){this.h&&(clearTimeout(this.h),this.h=null);return a.Y(this)};
A.commit=function(a,c){this.h&&(clearTimeout(this.h),this.h=null);return this.db.commit(this,a,c)};function Ua(a){a.h||(a.h=setTimeout(function(){a.h=null;a.db.commit(a,void 0,void 0)},0))}A.clear=function(){this.map.clear();this.S.clear();this.B.clear();this.cache&&this.cache.clear();this.db&&(this.h&&clearTimeout(this.h),this.h=null,this.ga=[{clear:!0}]);return this};A.update=function(a,c){const b=this,d=this.remove(a);return d&&d.then?d.then(()=>b.add(a,c)):this.add(a,c)};
A.import=function(a,c){if(c)switch(G(c)&&(c=JSON.parse(c)),a=a.split("."),"json"===a[a.length-1]&&a.pop(),a=1<a.length?a[1]:a[0],a){case "reg":this.C=!1;this.B=qa(c,this.B);break;case "map":this.map=oa(c,this.map);break;case "ctx":this.S=pa(c,this.S)}};na(L.prototype);const eb=new Map([["_"," "],["\u00e4","ae"],["\u00f6","oe"],["\u00fc","ue"],["\u00df","ss"],["&"," und "],["\u20ac"," EUR "]]),fb={prepare:function(a){/[_\u00e4\u00f6\u00fc\u00df&\u20ac]/.test(a)&&(a=a.replace(/[_\u00e4\u00f6\u00fc\u00df&\u20ac]/g,c=>eb.get(c)));return a.replace(/str\b/g,"strasse").replace(/(?!\b)strasse\b/g," strasse")},filter:new Set("aber als am an auch auf aus bei bin bis bist da dadurch daher darum das dass dass dein deine dem den der des dessen deshalb die dies dieser dieses doch dort du durch ein eine einem einen einer eines er es euer eure fuer hatte hatten hattest hattet hier hinter ich ihr ihre im in ist ja jede jedem jeden jeder jedes jener jenes jetzt ggf kann kannst koennen koennt machen mein meine mit muss musst musst muessen muesst nach nachdem nein nicht noch nun oder seid sein seine sich sie sind soll sollen sollst sollt sonst soweit sowie und unser unsere unter usw uvm vom von vor wann warum was weiter weitere wenn wer werde werden werdet weshalb wie wieder wieso wir wird wirst wo woher wohin zu zum zur ueber".split(" ")),
stemmer:new Map([["niss",""],["isch",""],["lich",""],["heit",""],["keit",""],["ell",""],["bar",""],["end",""],["ung",""],["est",""],["ern",""],["em",""],["er",""],["en",""],["es",""],["st",""],["ig",""],["ik",""],["e",""],["s",""]])};"undefined"!==typeof module&&module.exports?module.exports=fb:self.FlexSearch&&(self.FlexSearch.Language.de=fb);}(this||self));
